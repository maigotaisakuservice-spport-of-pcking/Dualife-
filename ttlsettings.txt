# Dualife用 Firestore TTLポリシー設定ガイド
# ==========================================

このガイドは、フリーモードの「24時間つぶやき」機能を実現するために、FirestoreのTTL(Time-to-Live)ポリシーを有効化する手順を説明します。
この設定を行うことで、投稿データが作成されてから24時間後に自動的にデータベースから削除されるようになります。

## 設定手順

1.  **Firebaseコンソールを開く**:
    *   お使いのWebブラウザで [Firebaseコンソール](https://console.firebase.google.com/) にアクセスし、『Dualife』プロジェクトを選択します。

2.  **Firestoreデータベースに移動**:
    *   左側のナビゲーションメニューから「構築」を展開し、「**Firestore Database**」をクリックします。

3.  **TTLポリシー管理画面へ移動**:
    *   Firestoreのメイン画面で、「**Time-to-Live**」タブをクリックします。

4.  **TTLポリシーを作成**:
    *   「**ポリシーを作成**」ボタンをクリックします。
    *   以下の通りにポリシーを設定します。
        *   **コレクション**: `thoughts`
        *   **ドキュメントの有効期限の基準となるフィールド**: `expireAt`
        *   **ドキュメントの削除**: 「有効」のままにします。
    *   設定が完了したら、「**保存**」ボタンをクリックします。

5.  **設定完了**:
    *   ポリシーが有効になるまで数分かかる場合があります。ステータスが「有効」になれば、設定は完了です。
    *   これ以降、`thoughts`コレクションに追加されたドキュメントは、その`expireAt`フィールドの時刻になると自動的に削除されます。

## 注意事項
*   `expireAt`フィールドは、アプリ側で「投稿時刻の24時間後」のタイムスタンプとして正しく設定されている必要があります。（この設定は`app.js`に実装済みです）
*   一度設定したTTLポリシーは、無効化または削除するまで永続的に機能します。
